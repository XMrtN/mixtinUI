---
import Card from "@/components/app/Card.astro";
import CodeBlock from "@/components/app/CodeBlock";
import Check from "@/components/icons/check.astro";
import Copy from "@/components/icons/copy.astro";
import { BUTTONS } from "@/data/buttons";
import DocsLayout from "@/layouts/DocsLayout.astro";
import type { GetStaticPaths } from "astro";
import { Code } from "astro:components";

const { id } = Astro.params;

const BUTTON = BUTTONS.find((btn) => btn.id === id);

if (!BUTTON) return;

export const getStaticPaths = (() => {
  return BUTTONS.map((btn) => ({
    params: { id: btn.id },
  }));
}) satisfies GetStaticPaths;
---

<DocsLayout>
  <Card transition:name={`card-${id}`}><BUTTON.Component /></Card>

  <CodeBlock client:only code={BUTTON.htmlT.code} title={BUTTON.htmlT.title}>
    <Code
      class="w-full rounded-md px-6 py-4"
      code={BUTTON.htmlT.code}
      lang="astro"
      slot="codeComponent"
    />
    <Copy class="size-5" slot="copyIcon" />
    <Check class="size-5" slot="checkIcon" />
  </CodeBlock>
</DocsLayout>
